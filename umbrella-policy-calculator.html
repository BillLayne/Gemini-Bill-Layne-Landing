<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Umbrella Policy Calculator | Free Liability Coverage Analysis | Bill Layne Insurance</title>
    <meta name="title" content="Umbrella Policy Calculator | Free Liability Coverage Analysis | Bill Layne Insurance">
    <meta name="description" content="Free umbrella insurance calculator for NC residents. Calculate your liability risk exposure and determine if you need extra protection. Get personalized coverage recommendations.">
    <meta name="keywords" content="umbrella policy calculator, liability insurance calculator, excess liability coverage, NC umbrella insurance, personal liability protection, insurance risk assessment">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="author" content="Bill Layne Insurance">
    
    <!-- Cache Control for HTML (reasonable caching) -->
    <meta http-equiv="Cache-Control" content="max-age=3600, must-revalidate">
    
    <!-- Version Definition -->
    <script>
        // SITE VERSION - Update this when making changes
        window.SITE_VERSION = '2024.12.13.1';
        
        // Check if in development mode
        const isDevelopment = window.location.hostname === 'localhost' || 
                             window.location.hostname === '127.0.0.1' ||
                             window.location.search.includes('dev=true');
        
        // Auto-versioning for development only
        if (isDevelopment) {
            window.SITE_VERSION = Date.now();
            console.log('Development mode: Cache disabled');
        }
    </script>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://billlayne.github.io/Bill-Layne-Insurance.gitbhub.io/umbrella-policy-calculator.html">
    <meta property="og:title" content="Umbrella Policy Calculator | Free Liability Coverage Analysis">
    <meta property="og:description" content="Calculate your liability risk and determine if you need umbrella insurance. Free tool for NC residents.">
    <meta property="og:image" content="https://billlayne.github.io/Bill-Layne-Insurance.gitbhub.io/images/umbrella-calculator-og.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://billlayne.github.io/Bill-Layne-Insurance.gitbhub.io/umbrella-policy-calculator.html">
    <meta property="twitter:title" content="Umbrella Policy Calculator | Free Liability Coverage Analysis">
    <meta property="twitter:description" content="Calculate your liability risk and determine if you need umbrella insurance. Free tool for NC residents.">
    <meta property="twitter:image" content="https://billlayne.github.io/Bill-Layne-Insurance.gitbhub.io/images/umbrella-calculator-twitter.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://billlayne.github.io/Bill-Layne-Insurance.gitbhub.io/umbrella-policy-calculator.html">
    
    <!-- Resource Hints for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Preload Resources -->
    <link rel="preload" href="style.css?v=2024.12.13.1" as="style">
    <link rel="preload" href="app.js?v=2024.12.13.1" as="script">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css?v=2024.12.13.1">
    <link rel="stylesheet" href="umbrella-policy-calculator.css?v=2024.12.01">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Development Cache Busting - Only affects localhost -->
    <script>
    (function() {
      // Only run on development environments
      if (location.hostname === 'localhost' || 
          location.hostname === '127.0.0.1' || 
          location.hostname.includes('.local') ||
          location.search.includes('dev=true')) {
        
        const devVersion = Date.now();
        console.log('🔧 Development mode: Cache busting enabled');
        
        // Update CSS files
        document.querySelectorAll('link[href*=".css"]').forEach(link => {
          const href = link.getAttribute('href');
          if (href && !href.includes('googleapis.com') && !href.includes('dev=')) {
            const separator = href.includes('?') ? '&' : '?';
            link.setAttribute('href', href + separator + 'dev=' + devVersion);
          }
        });
        
        // Update JS files
        document.querySelectorAll('script[src*=".js"]').forEach(script => {
          const src = script.getAttribute('src');
          if (src && !src.includes('dev=') && !src.includes('cdn')) {
            const separator = src.includes('?') ? '&' : '?';
            script.setAttribute('src', src + separator + 'dev=' + devVersion);
          }
        });
      }
    })();
    </script>
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Umbrella Policy Calculator",
        "description": "Free liability risk assessment tool that helps determine umbrella insurance needs",
        "url": "https://billlayne.github.io/Bill-Layne-Insurance.gitbhub.io/umbrella-policy-calculator.html",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "provider": {
            "@type": "InsuranceAgency",
            "name": "Bill Layne Insurance",
            "telephone": "+13368351993",
            "address": {
                "@type": "PostalAddress",
                "addressLocality": "Elkin",
                "addressRegion": "NC"
            }
        }
    }
    </script>
</head>
<body>
    <!-- Header -->
<!-- Unified Header -->
<header class="unified-header">
  <div class="header-container">
    <div class="header-logo">
      <a href="https://billlayneinsurance.com/" class="logo-link">
        Bill Layne Insurance
      </a>
    </div>
    
    <nav class="header-nav">
      <ul class="nav-menu">
        <li><a href="https://billlayne.github.io/Auto-Insurance-Center/" class="nav-link">Auto</a></li>
        <li><a href="https://billlayne.github.io/NC-Home-Insurance.github.io/" class="nav-link">Home</a></li>
        <li><a href="https://billlayneinsurance.com/areas-we-serve.html" class="nav-link">Services</a></li>
        <li><a href="https://billlayne.github.io/NC-Insurance-Claims-Center.github.io/" class="nav-link">Claims</a></li>
        <li><a href="https://billlayne.github.io/Resources/" class="nav-link">Resources</a></li>
        <li><a href="https://billlayneinsurance.com/blog" class="nav-link">Blog</a></li>
        <li><a href="https://billlayneinsurance.com/contact-us.html" class="nav-link">Contact</a></li>
      </ul>
    </nav>
    
    <div class="header-cta">
      <a href="tel:3368351993" class="phone-button">
        <span class="phone-icon">📞</span> (336) 835-1993
      </a>
    </div>
    
    <button class="mobile-menu-toggle" id="mobileMenuToggle">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</header>

    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb" aria-label="breadcrumb">
        <div class="breadcrumb__container">
            <ol class="breadcrumb__list" itemscope itemtype="https://schema.org/BreadcrumbList">
                <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a href="https://billlayneinsurance.com/" class="breadcrumb__link" itemprop="item">
                        <span itemprop="name">Home</span>
                    </a>
                    <meta itemprop="position" content="1" />
                </li>
                <li class="breadcrumb__item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <span class="breadcrumb__current" itemprop="name">Umbrella Policy Calculator</span>
                    <meta itemprop="position" content="2" />
                </li>
            </ol>
        </div>
    </nav>

    <main class="calculator-container">
        <div class="progress-bar">
            <div class="progress-bar__fill" id="progressBar"></div>
        </div>

        <div class="calculator-header">
            <h1>Umbrella Policy Calculator</h1>
            <p>Discover if you need extra liability protection beyond your home and auto policies</p>
        </div>

        <form id="umbrellaCalculatorForm" class="calculator-form">
            <!-- Step 1: Assets & Net Worth -->
            <div class="form-step active" data-step="1">
                <h2>Let's calculate your total assets</h2>
                <p class="step-description">This helps determine how much you have at risk in a lawsuit</p>
                
                <div class="form-group">
                    <label for="homeValue">Primary Home Value</label>
                    <select id="homeValue" name="homeValue" required>
                        <option value="">Select Value...</option>
                        <option value="0">I rent / No home</option>
                        <option value="150000">Up to $150,000</option>
                        <option value="250000">$150,000 - $250,000</option>
                        <option value="350000">$250,000 - $350,000</option>
                        <option value="500000">$350,000 - $500,000</option>
                        <option value="750000">$500,000 - $750,000</option>
                        <option value="1000000">$750,000 - $1 million</option>
                        <option value="1500000">$1 million - $1.5 million</option>
                        <option value="2000000">Over $1.5 million</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="mortgageBalance">Mortgage Balance</label>
                    <select id="mortgageBalance" name="mortgageBalance" required>
                        <option value="">Select Balance...</option>
                        <option value="0">Paid off / No mortgage</option>
                        <option value="100000">Up to $100,000</option>
                        <option value="200000">$100,000 - $200,000</option>
                        <option value="300000">$200,000 - $300,000</option>
                        <option value="400000">$300,000 - $400,000</option>
                        <option value="500000">$400,000 - $500,000</option>
                        <option value="750000">Over $500,000</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="savingsInvestments">Savings & Investments</label>
                    <select id="savingsInvestments" name="savingsInvestments" required>
                        <option value="">Select Total...</option>
                        <option value="10000">Under $10,000</option>
                        <option value="25000">$10,000 - $25,000</option>
                        <option value="50000">$25,000 - $50,000</option>
                        <option value="100000">$50,000 - $100,000</option>
                        <option value="250000">$100,000 - $250,000</option>
                        <option value="500000">$250,000 - $500,000</option>
                        <option value="1000000">$500,000 - $1 million</option>
                        <option value="2000000">Over $1 million</option>
                    </select>
                    <span class="form-hint">Include 401k, IRA, stocks, bonds, savings accounts</span>
                </div>

                <div class="form-group">
                    <label for="otherAssets">Other Valuable Assets</label>
                    <select id="otherAssets" name="otherAssets" required>
                        <option value="">Select Value...</option>
                        <option value="0">None / Minimal</option>
                        <option value="25000">Up to $25,000</option>
                        <option value="50000">$25,000 - $50,000</option>
                        <option value="100000">$50,000 - $100,000</option>
                        <option value="250000">$100,000 - $250,000</option>
                        <option value="500000">Over $250,000</option>
                    </select>
                    <span class="form-hint">Rental property, boats, RVs, collectibles, business interests</span>
                </div>

                <div class="form-navigation">
                    <button type="button" class="btn btn--secondary" onclick="window.location.href='index.html#coverage-analyzer'">Back to Tools</button>
                    <button type="button" class="btn btn--primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- Step 2: Income & Future Earnings -->
            <div class="form-step" data-step="2">
                <h2>Income and future earnings potential</h2>
                <p class="step-description">High earners are often targets for larger lawsuits</p>
                
                <div class="form-group">
                    <label for="annualIncome">Annual Household Income</label>
                    <select id="annualIncome" name="annualIncome" required>
                        <option value="">Select Income...</option>
                        <option value="50000">Under $50,000</option>
                        <option value="75000">$50,000 - $75,000</option>
                        <option value="100000">$75,000 - $100,000</option>
                        <option value="150000">$100,000 - $150,000</option>
                        <option value="200000">$150,000 - $200,000</option>
                        <option value="300000">$200,000 - $300,000</option>
                        <option value="500000">$300,000 - $500,000</option>
                        <option value="750000">Over $500,000</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="yearsToRetirement">Years Until Retirement</label>
                    <select id="yearsToRetirement" name="yearsToRetirement" required>
                        <option value="">Select Years...</option>
                        <option value="0">Already retired</option>
                        <option value="5">Less than 5 years</option>
                        <option value="10">5 - 10 years</option>
                        <option value="15">10 - 15 years</option>
                        <option value="20">15 - 20 years</option>
                        <option value="30">20 - 30 years</option>
                        <option value="40">More than 30 years</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="profession">Professional Status</label>
                    <select id="profession" name="profession" required>
                        <option value="">Select Status...</option>
                        <option value="standard">Standard employment</option>
                        <option value="executive">Executive/Senior management</option>
                        <option value="professional">Doctor/Lawyer/CPA</option>
                        <option value="business-owner">Business owner</option>
                        <option value="public-figure">Public figure/Celebrity</option>
                        <option value="retired">Retired</option>
                    </select>
                    <span class="form-hint">Some professions face higher lawsuit risks</span>
                </div>

                <div class="form-navigation">
                    <button type="button" class="btn btn--secondary" onclick="previousStep()">Previous</button>
                    <button type="button" class="btn btn--primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- Step 3: Current Liability Coverage -->
            <div class="form-step" data-step="3">
                <h2>Your current liability limits</h2>
                <p class="step-description">Check your auto and home policies for these amounts</p>
                
                <div class="form-group">
                    <label for="autoLiability">Auto Insurance Liability Limit</label>
                    <select id="autoLiability" name="autoLiability" required>
                        <option value="">Select Limit...</option>
                        <option value="25000">State Minimum</option>
                        <option value="50000">$50,000/$100,000</option>
                        <option value="100000">$100,000/$300,000</option>
                        <option value="250000">$250,000/$500,000</option>
                        <option value="500000">$500,000/$500,000</option>
                        <option value="1000000">$1,000,000</option>
                        <option value="0">No auto insurance</option>
                    </select>
                    <span class="form-hint">The per-person bodily injury limit</span>
                </div>

                <div class="form-group">
                    <label for="homeLiability">Homeowners/Renters Liability Limit</label>
                    <select id="homeLiability" name="homeLiability" required>
                        <option value="">Select Limit...</option>
                        <option value="100000">$100,000</option>
                        <option value="300000">$300,000</option>
                        <option value="500000">$500,000</option>
                        <option value="1000000">$1,000,000</option>
                        <option value="0">No home/renters insurance</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="currentUmbrella">Current Umbrella Policy</label>
                    <select id="currentUmbrella" name="currentUmbrella" required>
                        <option value="">Select Coverage...</option>
                        <option value="0">No umbrella policy</option>
                        <option value="1000000">$1 million</option>
                        <option value="2000000">$2 million</option>
                        <option value="3000000">$3 million</option>
                        <option value="5000000">$5 million</option>
                        <option value="10000000">$10 million+</option>
                    </select>
                </div>

                <div class="form-navigation">
                    <button type="button" class="btn btn--secondary" onclick="previousStep()">Previous</button>
                    <button type="button" class="btn btn--primary" onclick="nextStep()">Next</button>
                </div>
            </div>

            <!-- Step 4: Risk Factors -->
            <div class="form-step" data-step="4">
                <h2>Liability risk factors</h2>
                <p class="step-description">These activities and situations increase your exposure</p>
                
                <div class="form-group">
                    <label>Property & Vehicle Risks (check all that apply)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="hasPool" id="hasPool">
                            <span>Swimming pool or hot tub</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="hasTrampoline" id="hasTrampoline">
                            <span>Trampoline</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="hasDog" id="hasDog">
                            <span>Dog (especially large breeds)</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="hasTeenDriver" id="hasTeenDriver">
                            <span>Teen or young adult driver</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="hasBoat" id="hasBoat">
                            <span>Boat or watercraft</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="hasRental" id="hasRental">
                            <span>Rental property</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="hasATV" id="hasATV">
                            <span>ATV, motorcycle, or RV</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Activities & Lifestyle (check all that apply)</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="entertainFrequently" id="entertainFrequently">
                            <span>Entertain guests frequently</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="volunteerWork" id="volunteerWork">
                            <span>Volunteer work (coaching, boards)</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="socialMedia" id="socialMedia">
                            <span>Active on social media</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="longCommute" id="longCommute">
                            <span>Long daily commute</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="homeBusiness" id="homeBusiness">
                            <span>Home-based business</span>
                        </label>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="btn btn--secondary" onclick="previousStep()">Previous</button>
                    <button type="button" class="btn btn--primary" onclick="calculateRisk()">Calculate My Risk</button>
                </div>
            </div>
        </form>

        <!-- Results Section -->
        <div id="resultsSection" class="results-section" style="display: none;">
            <div class="results-header">
                <h2>Your Umbrella Policy Analysis</h2>
                <p>Based on your assets and risk factors, here's our assessment</p>
            </div>

            <!-- Risk Meter -->
            <div class="risk-meter-container">
                <h3>Your Liability Risk Level</h3>
                <div class="risk-meter">
                    <div class="risk-meter-bar">
                        <div class="risk-meter-fill" id="riskMeterFill"></div>
                    </div>
                    <div class="risk-labels">
                        <span>Low</span>
                        <span>Moderate</span>
                        <span>High</span>
                        <span>Critical</span>
                    </div>
                </div>
                <p class="risk-level-text" id="riskLevelText"></p>
            </div>

            <div class="results-grid">
                <!-- Total Exposure Card -->
                <div class="result-card exposure-card">
                    <h3>💰 Total Asset Exposure</h3>
                    <div class="exposure-amount" id="exposureAmount">$0</div>
                    <p class="exposure-description">Your total assets at risk in a lawsuit</p>
                    <div class="exposure-breakdown" id="exposureBreakdown"></div>
                </div>

                <!-- Coverage Gap Card -->
                <div class="result-card gap-card">
                    <h3>⚠️ Coverage Gap Analysis</h3>
                    <div class="gap-amount" id="gapAmount">$0</div>
                    <p class="gap-description" id="gapDescription"></p>
                    <div class="coverage-visual" id="coverageVisual"></div>
                </div>

                <!-- Recommendation Card -->
                <div class="result-card recommendation-card">
                    <h3>🎯 Our Recommendation</h3>
                    <div class="recommended-amount" id="recommendedAmount">$0</div>
                    <p class="recommendation-text" id="recommendationText"></p>
                    <ul class="recommendation-reasons" id="recommendationReasons"></ul>
                </div>

                <!-- Risk Factors Card -->
                <div class="result-card factors-card">
                    <h3>📊 Your Risk Factors</h3>
                    <div class="factors-list" id="factorsList"></div>
                </div>

                <!-- Cost Estimate Card -->
                <div class="result-card cost-card">
                    <h3>💵 Estimated Annual Cost</h3>
                    <div class="cost-range" id="costRange">$0 - $0</div>
                    <p class="cost-description">For recommended umbrella coverage</p>
                    <ul class="cost-factors">
                        <li>Based on your profile and risk factors</li>
                        <li>Actual cost depends on carrier and exact circumstances</li>
                        <li>Often less than $1/day for $1M coverage</li>
                    </ul>
                </div>

                <!-- Benefits Card -->
                <div class="result-card benefits-card">
                    <h3>✅ Umbrella Policy Benefits</h3>
                    <ul class="benefits-list">
                        <li>Covers lawsuits exceeding auto/home limits</li>
                        <li>Provides legal defense coverage</li>
                        <li>Protects future earnings and assets</li>
                        <li>Covers incidents worldwide</li>
                        <li>Includes libel, slander, and defamation</li>
                        <li>May cover incidents not covered by other policies</li>
                    </ul>
                </div>
            </div>

            <!-- Scenario Examples -->
            <div class="scenarios-section">
                <h3>Real-World Scenarios Where Umbrella Coverage Helps</h3>
                <div class="scenarios-grid" id="scenariosGrid"></div>
            </div>

            <div class="cta-section">
                <h3>Ready to protect your assets?</h3>
                <p>Get a personalized umbrella policy quote from Bill Layne Insurance</p>
                <div class="cta-buttons">
                    <a href="tel:3368351993" class="btn btn--primary">
                        📞 Call (336) 835-1993
                    </a>
                    <button class="btn btn--secondary" onclick="downloadReport()">
                        📄 Download Analysis
                    </button>
                </div>
            </div>

            <div class="form-navigation">
                <button type="button" class="btn btn--secondary" onclick="startOver()">Start New Calculation</button>
                <a href="index.html#coverage-analyzer" class="btn btn--outline">Back to Tools</a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Bill Layne Insurance. All rights reserved.</p>
        </div>
    </footer>

    <!-- Main JavaScript with Version -->
    <script src="app.js?v=2024.12.13.1" defer></script>
    <script src="umbrella-policy-calculator.js" defer></script>
    
    <script>
        // Mobile menu toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const headerNav = document.querySelector('.header-nav');
            const body = document.body;

            if (mobileMenuToggle && headerNav) {
                // Simple toggle functionality
                mobileMenuToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    headerNav.classList.toggle('active');
                    mobileMenuToggle.classList.toggle('active');
                    body.classList.toggle('menu-open');
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(event) {
                    if (!event.target.closest('.unified-header')) {
                        headerNav.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                    }
                });
                
                // Close menu when clicking on a nav link
                const navLinks = headerNav.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        headerNav.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                    });
                });
            }
        });
    </script>
</body>
</html>